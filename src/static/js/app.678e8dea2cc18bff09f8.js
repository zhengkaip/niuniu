webpackJsonp([1],[,,,,,,,function(t,e,s){"use strict";s.d(e,"a",function(){return a});var n=s(1),a=new n.a},,,,,,function(t,e,s){function n(t){s(67)}var a=s(0)(s(20),s(83),n,"data-v-94a64292",null);t.exports=a.exports},function(t,e,s){function n(t){s(63)}var a=s(0)(s(25),s(79),n,"data-v-56cc2857",null);t.exports=a.exports},function(t,e,s){function n(t){s(69)}var a=s(0)(s(27),s(85),n,"data-v-e8b4e3e6",null);t.exports=a.exports},function(t,e,s){"use strict";var n=s(1),a=s(87),r=s(70),o=s.n(r),i=s(71),l=s.n(i),c=s(86);n.a.use(c.a),n.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"index",component:l.a},{path:"/home",name:"myHeader",component:o.a}],mode:"history"})},,function(t,e,s){function n(t){s(65)}var a=s(0)(s(19),s(81),n,null,null);t.exports=a.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"content",props:["title"],data:function(){return{list:[1,2,3,4,5]}},methods:{liClick:function(t){alert(t)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(13),a=s.n(n);e.default={name:"myHeader",components:{Mycontent:a.a},data:function(){return{msg:"header",title:"header"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(31),a=s.n(n),r=s(73),o=s.n(r),i=s(13),l=s.n(i),c=s(74),u=s.n(c),f=s(72),d=s.n(f),v=s(15),p=s.n(v),_=s(2);e.default={name:"hello",data:function(){return{seller:{},showPop:!1}},components:{"v-header":o.a,Mycontent:l.a,PagePop:u.a,Goods:d.a,Shopping:p.a},computed:a()({},s.i(_.b)({count:function(t){return t.count}})),created:function(){this.$http.get("/api/seller").then(function(t){var t=t.body;0==t.errno&&(this.seller=t.data)})},methods:{showFn:function(){this.showPop=!this.showPop}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(32),a=s.n(n),r=s(15),o=(s.n(r),s(14)),i=s.n(o);s(2);e.default={name:"goods",data:function(){return{foodsAll:[],listHeight:[],scrollY:90,menuIndex:0}},components:{Operate:i.a},computed:{currentIndex:function(){for(var t=0;t<this.listHeight.length;t++){var e=this.listHeight[t],s=this.listHeight[t+1];if(!s||this.scrollY>=e&&this.scrollY<s)return t}return 0},selectFoods:function(){var t=[];return this.foodsAll.forEach(function(e){e.foods.forEach(function(e){e.count&&t.push(e)})}),t}},created:function(){this.$http.get("/api/goods").then(function(t){t=t.body,0==t.errno&&(this.foodsAll=t.data,this._setScroll())})},beforeUpdate:function(){this.$store.commit("selectFoods",this.selectFoods)},methods:{_calculateHeight:function(){var t=this.$refs.foodList,e=0;this.listHeight.push(e);for(var s=0;s<t.length;s++){e+=t[s].clientHeight,this.listHeight.push(e)}},_checkMenu:function(t,e){var s=this.listHeight[t];this.scrollY=s,this.goodsScroll.scrollTo(0,-s,300)},_setScroll:function(){var t=this;this.$nextTick(function(){t.menuScroll?(t.menuScroll.refresh(),t.goodsScroll.refresh()):(t.menuScroll=new a.a(t.$refs["menu-wrapper"],{probeType:3,click:!0}),t.goodsScroll=new a.a(t.$refs["goods-wrapper"],{probeType:3,click:!0}),t.goodsScroll.on("scroll",function(e){var s=0,n=0;t.scrollY=Math.ceil(Math.abs(e.y)),n=t.scrollY/(t.$refs["goods-wrapper"].offsetHeight-t.$refs["goods-content"].offsetHeight),s=(t.$refs["menu-wrapper"].offsetHeight-t.$refs["menu-content"].offsetHeight)*n,t.menuScroll.scrollTo(0,-s,300)}),t.goodsScroll.on("scrollEnd",function(e){t.scrollY=Math.ceil(Math.abs(e.y))}),t._calculateHeight())})}},filters:{filterClass:function(t){var e="";switch(t){case 0:e="decrease active";break;case 1:e="discount active";break;case 2:e="special active";break;case 3:e="invoice active";break;case 4:e="guarantee active";break;default:e=""}return e},filterIndex:function(t){return"#"+t}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"header",props:{seller:{type:Object},showFn:{type:Function}},data:function(){return{classMap:["decrease","discount","special","invoice","guarantee"]}},created:function(){}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(7);e.default={name:"operate",props:{foods:{type:Object}},methods:{add:function(t){var e=0;console.log("add"),this.foods.count?(e=this.foods.count+1,n.a.set(this.foods,"count",e)):n.a.set(this.foods,"count",1),console.log(this.$emit),a.a.$emit("drag",t.target)},cancel:function(t){var e=0;e=this.foods.count-1,n.a.set(this.foods,"count",e)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(75),a=s.n(n);e.default={name:"pagePop",components:{star:a.a},props:{seller:{type:Object},showFn:{type:Function}},data:function(){return{}},created:function(){},filters:{supportsType:function(t){var e="";switch(t){case 0:e="decrease";break;case 1:e="discount";break;case 2:e="special";break;case 3:e="invoice";break;case 4:e="guarantee";break;default:e=""}return e}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(7),a=s(14),r=s.n(a);e.default={name:"shopping",data:function(){return{balls:[{show:!1},{show:!1},{show:!1},{show:!1},{show:!1}],dropBalls:[],fold:!1}},components:{Operate:r.a},props:{seller:{type:Object}},computed:{selectFoods:function(){return this.$store.state.selectFoods},allPrice:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.price*e.count}),t},allCount:function(){var t=0;return this.selectFoods.forEach(function(e){t+=e.count}),t},diffPrice:function(){return this.seller.minPrice-this.allPrice}},beforeMount:function(){var t=this;n.a.$on("drag",function(e){t._drop(event.target)})},methods:{_drop:function(t){for(var e=0;e<this.balls.length;e++){var s=this.balls[e];if(!s.show)return s.show=!0,s.el=t,this.dropBalls.push(s),void console.log("dropBalls",this.dropBalls)}},beforeEnter:function(t){for(var e=this.balls.length;e--;){var s=this.balls[e];if(s.show){var n=s.el.getBoundingClientRect();console.log(n);var a=n.left-64,r=-(window.innerHeight-n.top-44);t.style.display="",t.style.webkitTransform="translate3d(0,"+r+"px,0)",t.style.transform="translate3d(0,"+r+"px,0)";var o=t.getElementsByClassName("inner-hook")[0];o.style.webkitTransform="translate3d("+a+"px,0,0)",o.style.transform="translate3d("+a+"px,0,0)",console.log(o)}}},enter:function(t){t.offsetHeight;this.$nextTick(function(){t.style.webkitTransform="translate3d(0,0,0)",t.style.transform="translate3d(0,0,0)";var e=t.getElementsByClassName("inner-hook")[0];e.style.webkitTransform="translate3d(0,0,0)",e.style.transform="translate3d(0,0,0)"})},afterEnter:function(t){var e=this.dropBalls.shift();e&&(e.show=!1,t.style.display="none")},showSelect:function(){var t=this.$refs["select-car"],e=this.$refs["shop-wrap"];this.selectFoods.length>0&&(this.fold=!0);var s=t.offsetHeight+e.offsetHeight;t.style.transform="translate3d(0,-"+s+"px,0)"},hideSelect:function(){var t=this.$refs["select-car"];this.fold=!1,t.style.transform="translate3d(0,0,0)"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={name:"star",props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},startClasses:function(){for(var t=[],e=Math.floor(this.score),s=this.score%1,n=0;n<e;n++)t.push("on");for(s&&t.push("half");t.length<5;)t.push("off");return t}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(18),r=s.n(a),o=s(16),i=s(2),l=s(17);s.n(l);n.a.use(i.a);var c=new i.a.Store({state:{selectFoods:[]},mutations:{selectFoods:function(t,e){console.log(e),t.selectFoods=e}}});n.a.config.productionTip=!1,new n.a({el:"#app",store:c,router:o.a,render:function(t){return t(r.a)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,s){function n(t){s(64)}var a=s(0)(s(21),s(80),n,"data-v-6202e482",null);t.exports=a.exports},function(t,e,s){function n(t){s(60)}var a=s(0)(s(22),s(76),n,"data-v-399c5fe0",null);t.exports=a.exports},function(t,e,s){function n(t){s(68)}var a=s(0)(s(23),s(84),n,"data-v-add80e8a",null);t.exports=a.exports},function(t,e,s){function n(t){s(61)}var a=s(0)(s(24),s(77),n,"data-v-44efb32d",null);t.exports=a.exports},function(t,e,s){function n(t){s(62)}var a=s(0)(s(26),s(78),n,"data-v-47098bd3",null);t.exports=a.exports},function(t,e,s){function n(t){s(66)}var a=s(0)(s(28),s(82),n,"data-v-7c6ed1cd",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("\n  "+t._s(t.count)+"\n  "),s("v-header",{attrs:{seller:t.seller,showFn:t.showFn}}),t._v(" "),s("div",{staticClass:"tab"},[s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"home"}},[t._v("商品")])],1),t._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"home"}},[t._v("评论")])],1),t._v(" "),s("div",{staticClass:"tab-item"},[s("router-link",{attrs:{to:"home"}},[t._v("商家")])],1)]),t._v(" "),s("Goods"),t._v(" "),s("Shopping",{attrs:{seller:t.seller}}),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.showPop?s("PagePop",{attrs:{seller:t.seller,showFn:t.showFn}}):t._e()],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"clear"},[s("div",{staticClass:"fl"},[s("img",{staticClass:"avatar",attrs:{src:t.seller.avatar,alt:""}})]),t._v(" "),s("div",{staticClass:"fl info"},[s("h2",{staticClass:"name"},[t._v(t._s(t.seller.name))]),t._v(" "),s("p",{staticClass:"description"},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"送达")]),t._v(" "),t.seller.supports?s("p",{staticClass:"activity",class:t.classMap[t.seller.supports[0].type]},[t._v(t._s(t.seller.supports[0].description))]):t._e(),t._v(" "),t.seller.supports?s("p",{staticClass:"activity-num",on:{click:t.showFn}},[t._v(t._s(t.seller.supports.length)+"个"),s("span",[t._v(">")])]):t._e()])]),t._v(" "),s("div",{staticClass:"bulletin"},[s("p",[t._v(t._s(t.seller.bulletin))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pop-wrap"},[s("div",{staticClass:"page-pop clearfix"},[s("div",{staticClass:"pop-content"},[s("h3",[t._v(t._s(t.seller.name))]),t._v(" "),s("div",{staticClass:"pop-star"},[s("star",{attrs:{size:48,score:t.seller.score}})],1),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"supports"},t._l(t.seller.supports,function(e){return s("div",{staticClass:"list",class:t._f("supportsType")(e.type)},[t._v("\n          "+t._s(e.description)+"\n        ")])})),t._v(" "),t._m(1),t._v(" "),s("p",{staticClass:"bulletin"},[t._v(t._s(t.seller.bulletin))])])]),t._v(" "),s("div",{staticClass:"pop-close icon iconfont icon-close",on:{click:t.showFn}})])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"text"},[t._v("优惠信息")]),t._v(" "),s("div",{staticClass:"line"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("div",{staticClass:"line"}),t._v(" "),s("div",{staticClass:"text"},[t._v("商家公告")]),t._v(" "),s("div",{staticClass:"line"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"operate clear"},[s("transition",{attrs:{name:"fade"}},[t.foods.count?s("div",{staticClass:"fl"},[s("button",{staticClass:"remove iconfont icon-remove_circle_outlin",on:{click:t.cancel}}),t._v(" "),s("span",{staticClass:"count"},[t._v(t._s(t.foods.count))])]):t._e()]),t._v(" "),s("button",{staticClass:"add iconfont icon-add_circle fl",on:{click:t.add}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myHeader"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("Mycontent",{attrs:{title:t.title}}),t._v(" "),s("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),s("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("Core Docs")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("Forum")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitter.im/vuejs/vue",target:"_blank"}},[t._v("Gitter Chat")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("Twitter")])]),t._v(" "),s("br"),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("Docs for This Template")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[t._v("vue-router")])]),t._v(" "),s("li",[s("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[t._v("vuex")])]),t._v(" "),s("li",[s("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[t._v("vue-loader")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[t._v("awesome-vue")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"star",class:t.starType},t._l(t.startClasses,function(t){return s("span",{staticClass:"item-star",class:t})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._v("\n  content"+t._s(t.title)+"\n  "),s("ul",t._l(t.list,function(e,n){return s("li",{key:"key",on:{click:function(s){t.liClick(e)}}},[t._v(t._s(e))])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods"},[s("div",{ref:"menu-wrapper",staticClass:"menu menu-wrapper"},[s("ul",{ref:"menu-content"},t._l(t.foodsAll,function(e,n){return s("li",{class:{current:t.currentIndex==n},on:{click:function(e){t._checkMenu(n,e)}}},[s("p",[s("span",{directives:[{name:"show",rawName:"v-show",value:e.type>0||0==e.type,expression:"item.type>0 || item.type==0"}],staticClass:"icon",class:t._f("filterClass")(e.type)}),t._v(t._s(e.name))])])}))]),t._v(" "),s("div",{ref:"goods-wrapper",staticClass:"goods-list goods-wrapper"},[s("div",{ref:"goods-content"},t._l(t.foodsAll,function(e,n){return s("dl",{ref:"foodList",refInFor:!0,staticClass:"goods-h"},[s("dt",[t._v(t._s(e.name))]),t._v(" "),t._l(e.foods,function(e){return s("dd",[s("img",{attrs:{src:e.icon,alt:""}}),t._v(" "),s("div",{staticClass:"foods-info"},[s("h3",[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"foods-des"},[s("p",[t._v(t._s(e.description))]),t._v(" "),s("p",[t._v("月售"+t._s(e.sellCount)+"份  好评率"+t._s(e.rating)+"%")])]),t._v(" "),s("div",{staticClass:"foods-operate clear"},[s("p",{staticClass:"fl"},[t._v("￥"),s("strong",[t._v(t._s(e.price))]),t._v(" "),e.oldPrice?s("span",[t._v("￥"+t._s(e.oldPrice))]):t._e()]),t._v(" "),s("div",{staticClass:"fr"},[s("Operate",{attrs:{foods:e}})],1)])])])})],2)}))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"shop-wrap",staticClass:"shop-car"},[s("div",{staticClass:"shop-wrap"},[s("div",{staticClass:"shop-detail clear"},[s("div",{staticClass:"logo-wrap fl"},[s("div",{staticClass:"logo",class:{active:t.allPrice>0},on:{click:t.showSelect}},[s("span",{staticClass:"iconfont icon-shopping_cart"})]),t._v(" "),t.allPrice?s("span",{staticClass:"allCount"},[t._v(t._s(t.allCount))]):t._e()]),t._v(" "),s("div",{staticClass:"price fl"},[s("p",{class:{active:t.allPrice}},[t._v("￥"+t._s(t.allPrice))])]),t._v(" "),s("div",{staticClass:"distribution fl"},[t._v("\n\t\t\t\t另需配送费￥"+t._s(t.seller.deliveryPrice)+"元\n\t\t\t")])]),t._v(" "),s("div",{staticClass:"play",class:{active:t.diffPrice<0||0==t.diffPrice}},[0==t.allCount?s("span",[t._v("￥"+t._s(t.seller.minPrice)+"起送")]):t._e(),t._v(" "),t.diffPrice>0&&0!=t.allCount?s("span",[t._v("还差￥"+t._s(t.diffPrice)+"起送")]):t._e(),t._v(" "),t.diffPrice<0||0==t.diffPrice?s("span",[t._v("购买")]):t._e()]),t._v(" "),s("div",{staticClass:"ball-container"},t._l(t.balls,function(e){return s("div",[s("transition",{attrs:{name:"drop"},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"ball.show"}],staticClass:"ball"},[s("div",{staticClass:"inner inner-hook"})])])],1)}))]),t._v(" "),s("div",{ref:"select-car",staticClass:"purchase-list",class:{hide:0==t.allCount}},[t._m(0),t._v(" "),s("ul",t._l(t.selectFoods,function(e){return s("li",[s("p",{staticClass:"fl"},[t._v(t._s(e.name)+" ")]),t._v(" "),s("div",{staticClass:"fr"},[s("span",{staticClass:"fl"},[t._v("￥"+t._s(e.price*e.count))]),t._v(" "),s("div",{staticClass:"fl operate-wrap"},[s("Operate",{staticClass:"fl",attrs:{foods:e}})],1)])])}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.fold,expression:"fold"}],staticClass:"purchase-shade",class:{hide:0==t.allCount},on:{click:t.hideSelect}})])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"car-header clear"},[s("span",{staticClass:"fl"},[t._v("购物车")]),t._v(" "),s("span",{staticClass:"fr clear-car"},[t._v("清空")])])}]}},,,,,function(t,e){}],[29]);
//# sourceMappingURL=app.678e8dea2cc18bff09f8.js.map